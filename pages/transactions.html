<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Student Finance Tracker</title>
  <link rel="stylesheet" href="../styles/transaction.css">
</head>
<body>
  <nav class="navbar">
    <h2 class="logo"><a href="../index.html">Finance Tracker</a></h2>
    <button class="menu-toggle" id="menu-toggle">â˜°</button>
    <ul class="nav-links" id="nav-links">
      <li><a href="dashboard.html">Dashboard</a></li>
      <li><a href="transactions.html">Transactions</a></li>
      <li><a href="contact.html">Contact Us</a></li>
      <li><a href="setting.html">Settings</a></li>
    </ul>
  </nav>

  <section class="summary">
    <div class="card">
      <h3>Total Income</h3>
      <span id="totalIncome">$0</span>
    </div>
    <div class="card">
      <h3>Total Expenses</h3>
      <span id="totalExpenses">$0</span>
    </div>
    <div class="card">
      <h3>Balance</h3>
      <span id="balance">$0</span>
    </div>
  </section>

  <section class="add-transaction">
    <h3>Add Transaction</h3>
    <form id="transactionForm">
      <input type="date" name="date" id="date">
      <input type="text" id="description" placeholder="Description" required>
      <input type="number" id="amount" placeholder="Amount" required>
      <select id="accounts">
        <option value="income">Income</option>
        <option value="expense">Expense</option>
      </select>
      <select id="category"></select>
      <button type="submit" onclick="addStorage()">Add</button>
    </form>
  </section>

  <section class="transactions">
    <h3>Recent Transactions</h3>
    <div class="search-controls">
      <input 
        type="text" 
        id="searchInput" 
        placeholder="Search with regex (e.g., ^2024.*income$)"
        aria-label="Search transactions with regex pattern"
      />
      <button id="caseSensitiveBtn" type="button">Case: aa</button>
      <span id="searchError" role="alert" aria-live="polite"></span>
    </div>
    <table>
      <thead>
        <tr>
          <th data-sort="date" style="cursor:pointer">Date</th>
          <th data-sort="description" style="cursor:pointer">Description</th>
          <th>Category</th>
          <th>Accounts</th>
          <th data-sort="amount" style="cursor:pointer">Amount</th>
        </tr>
      </thead>
      <tbody id="transactionTable">
        <tr><td colspan="5" style="text-align:center;">Loading transactions...</td></tr>
      </tbody>
    </table>
  </section>

  <div class="charts">
    <h4>Spending Overview</h4>
    <canvas id="expensesChart"></canvas>
  </div>

<script>
  document.getElementById('menu-toggle').addEventListener('click', function() {
    document.getElementById('nav-links').classList.toggle('active');
  });
</script>

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="../jsScripts/transaction.js"></script>
</body>
</html>
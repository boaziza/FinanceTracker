<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Settings — Student Finance Tracker</title>
  <link rel="stylesheet" href="../styles/setting.css">
</head>
<body>
  <nav class="navbar">
      <h2 class="logo"><a href="index.html">Finance Tracker</a></h2>
      <button class="menu-toggle" id="menu-toggle">☰</button>
      <ul class="nav-links" id="nav-links">
      <li><a href="dashboard.html">Dashboard</a></li>
      <li><a href="transactions.html">Transactions</a></li>
      <li><a href="contact.html">Contact Us</a></li>
      <li><a href="setting.html">Settings</a></li>
      </ul>
  </nav> <br> <br> 

  <main id="main-content" class="container" role="main">
    <section aria-labelledby="settings-heading">
      <h2 id="settings-heading">Settings</h2>
      <p class="small">Configure app preferences, currency rates, categories and import/export data.</p>

      <div class="row">
        <div class="col">
          <fieldset>
            <legend><strong>Currency & Units</strong></legend>

            <label for="base-currency">Base currency</label>
            <select id="base-currency" aria-describedby="currency-help">
              <option value="RWF">RWF</option>
              <option value="USD">USD</option>
              <option value="EUR">EUR</option>
            </select>
            <p id="currency-help" class="small">Enter manual conversion rates for two extra currencies.</p>

            <label for="currency-1">Currency 1 (code)</label>
            <input id="currency-1" type="text" maxlength="3" placeholder="e.g., RWF" />
            <label for="rate-1">Exchange Rate to base currency = ?</label>
            <input id="rate-1" type="number" step="0.0001" min="0" placeholder="e.g., 0.9234" />

            <label for="currency-2">Currency 2 (code)</label>
            <input id="currency-2" type="text" maxlength="3" placeholder="e.g., EUR" />
            <label for="rate-2">Exchange Rate to base currency = ?</label>
            <input id="rate-2" type="number" step="0.0001" min="0" placeholder="e.g., 1200" />

          </fieldset>

          <fieldset>
            <legend><strong>Default Categories</strong></legend>
            <p class="small">Edit, add or remove categories used throughout the app. There are sensible defaults.</p>
            <ul id="category-list" class="list" aria-live="polite"></ul>

            <div class="row">
              <input id="new-category" type="text" placeholder="Add category (letters, spaces, hyphens)" aria-label="New category" />
              <button id="add-category" class="btn">Add</button>
            </div>
          </fieldset>

          <fieldset>
            <legend><strong>Import / Export Data</strong></legend>
            <p class="small">Export your records as JSON or import a JSON file (structure validated).</p>
            <div class="row">
              <button id="export-json" class="btn btn-secondary">Export JSON</button>
              <label for="import-file" class="btn btn-secondary" style="cursor:pointer">Import JSON
                <input id="import-file" type="file" accept="application/json" style="display:none" />
              </label>
              <button id="reset-data" class="btn btn-secondary">Reset App Data</button>
            </div>
            <p id="import-note" class="small">Imported JSON must be an array of records with keys: id, description/title, amount (number), category/tag, date (YYYY-MM-DD), createdAt, updatedAt.</p>
            <div id="import-errors" role="status" aria-live="polite" class="small" style="margin-top:.5rem;color:#8b0000"></div>
          </fieldset>

        </div>

        <aside class="col" aria-labelledby="about-heading">
          <section id="about" aria-labelledby="about-heading" class="notice">
            <p class="small">Contact: <a href="https://github.com/boaziza" target="_blank" rel="noopener">GitHub</a> • <a href="mailto:b.iza@alustudent.com">b.iza@alustudent.com</a></p>
          </section>

          <section aria-labelledby="stats-heading" style="margin-top:1rem">
            <h3 id="stats-heading">Quick Actions</h3>
            <p><button id="save-now" class="btn">Save Settings</button></p>
            <p class="small">Status: <span id="status-text" role="status" aria-live="polite">Idle</span></p>
          </section>
        </aside>
      </div>

    </section>
  </main>

  <footer class="container" role="contentinfo">
    <p class="small">© Student Finance Tracker — include README and demo video link in your repo.</p>
  </footer>
  <script type="module" src="../jsScripts/setting.js"></script>
</body>
</html>
